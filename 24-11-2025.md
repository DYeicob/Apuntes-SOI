## üìå Preguntas de clase

### **1. ¬øUn trabajo se puede ejecutar si no se dispone de memoria principal (MP)?**

**Falso.**
Un trabajo debe estar cargado en la **memoria principal** para poder ejecutarse.
No obstante, **no es necesario cargarlo por completo**, gracias a la **memoria virtual**, que permite mantener en almacenamiento secundario aquellas partes del programa que a√∫n no se necesitan.

---

### **2. Diferencia entre fichero y directorio**

#### **Fichero**

* Contiene **datos del usuario**.
* Es una unidad l√≥gica que almacena informaci√≥n (texto, im√°genes, programas, etc.).

#### **Directorio**

* Es una **estructura organizativa** que agrupa ficheros y/o otros directorios.
* Se implementa como una **tabla** que almacena, para cada fichero o subdirectorio:

  * Nombre
  * Propietario
  * Fecha de creaci√≥n
  * Fecha de √∫ltimo acceso
  * Fecha de √∫ltima modificaci√≥n
  * Tama√±o en bytes
  * Asignaci√≥n (en ficheros) o puntero (en directorios)

---

### **3. ¬øLos nombres de los directorios deben ser √∫nicos dentro de un mismo directorio?**

**S√≠.**
Los nombres deben ser **√∫nicos dentro del mismo directorio**.
En cambio, **pueden repetirse** en directorios distintos, ya que la identificaci√≥n final se hace mediante la **ruta absoluta**.

---

### **4. ¬øPara qu√© se usa la lista de b√∫squeda?**

La **lista de b√∫squeda** se utiliza para localizar ficheros cuyo nombre se especifica **sin ruta completa**.
Si el fichero no est√° en el **directorio de trabajo actual**, el sistema lo busca en los directorios incluidos en esta lista, en el orden de prioridad establecido.

---

### **5. Si el conjunto de trabajo de un proceso aumenta s√∫bitamente en n√∫mero de p√°ginas, ¬øqu√© impacto tiene sobre la tasa de fallos de p√°gina?**

Un aumento repentino del **conjunto de trabajo** implica que el proceso necesita **m√°s p√°ginas activas**.
Si la memoria asignada no es suficiente para contenerlas:

‚û°Ô∏è **La tasa de fallos de p√°gina aumenta de forma notable**,
‚û°Ô∏è pudiendo producirse **thrashing**, ya que el proceso expulsa p√°ginas que vuelve a necesitar inmediatamente.

---

# 4. Integridad y protecci√≥n del sistema de ficheros

## 4.1. Seguridad e integridad: M√©todos

### 1. Copias de seguridad (backup)

**Tipos de copias:**

#### ‚úî Copias globales peri√≥dicas

* Se copia *todo* el sistema de ficheros manualmente cada cierto tiempo.
* **Recuperaci√≥n:** consiste en cargar la √∫ltima copia global disponible.

#### ‚úî Copias incrementales

* Se realizan copias globales m√°s espaciadas en el tiempo.
* Entre dos copias globales, solo se guardan los cambios realizados.
* El SO almacena:

  * Fecha de √∫ltima modificaci√≥n de cada componente.
  * Fecha de la √∫ltima copia incremental.
* **Recuperaci√≥n:**

  1. Cargar la √∫ltima copia global.
  2. Aplicar, en orden, todas las copias incrementales posteriores.
* **Inconveniente:** recuperaci√≥n m√°s lenta.

---

### 2. Tratamiento at√≥mico estable

* El sistema de ficheros se almacena duplicado en **dos conjuntos de dispositivos id√©nticos**.
* Requiere:

  * M√°s dispositivos (mayor coste).
  * Mayor tiempo de acceso (las actualizaciones deben hacerse en ambas copias).
* Procedimiento:

  1. Actualizar una copia.
  2. Verificar que est√° correcta.
  3. Actualizar la segunda copia.

---

### 3. Tratamiento diferencial de los ficheros

* Garantiza la integridad de un fichero **mientras est√° en uso**.
* Cuando se modifica un bloque:
  * No se sobrescribe.
  * Se guarda la informaci√≥n en un **nuevo bloque**.
* Se actualizan las referencias al finalizar el trabajo con el fichero.

#### En asignaci√≥n indexada:

Cada entrada tiene un **bit de modificaci√≥n**:

* Si el bloque se modifica:

  * Se reserva un bloque nuevo.
  * Se a√±ade su direcci√≥n a la tabla.
  * Se activa el bit de modificado.
* Al cerrar el fichero:

  * Se actualizan las direcciones definitivas.
  * Se restaura el bit a ‚Äúno modificado‚Äù.
  * Se liberan los bloques antiguos.

*Ejemplo del esquema:*

```
Bit modificado | Direcci√≥n bloque antiguo | Direcci√≥n bloque nuevo
-----------------------------------------------------------------
       1       |          520             |         829
       1       |          328             |         750
       0       |          640             |         ---
```

---

### 4. Utilidades de comprobaci√≥n de consistencia

Herramientas que verifican la estructura de datos del sistema de ficheros.
Detectan errores como:
* Un bloque asignado a dos ficheros distintos.
* Un bloque marcado como libre pero realmente asignado.

**Cu√°ndo se ejecutan:**
Normalmente cuando se detectan errores al acceder a los ficheros.

**Limitaci√≥n:**
No revisan la consistencia del *contenido* de los ficheros, solo su estructura.

---

## 5. Protecci√≥n del sistema de ficheros

### **Definici√≥n**

La **protecci√≥n** consiste en el control que realiza el Sistema Operativo sobre el **uso que los usuarios hacen de la informaci√≥n** del sistema de ficheros.

---

## **Mecanismos de protecci√≥n**

### **1. Uso de contrase√±as**

* La informaci√≥n es **propiedad de los usuarios**, no de los procesos.
* El SO determina el usuario de cada proceso:
  1. El usuario se identifica al conectarse (**nombre + contrase√±a**).
  2. El SO crea un proceso asociado a ese usuario.
  3. Los procesos creados por ese proceso **heredan** su usuario.

---

### **2. Lista de Control de Acceso (ACL)**

* Cada elemento del sistema de ficheros tiene una **lista de control de acceso** formada por pares:

  ```
  (usuario ‚Üí operaciones permitidas)
  ```

  Operaciones t√≠picas: **leer, ejecutar, a√±adir, modificar**.
* Al acceder a un elemento, el SO comprueba:
  1. Si el usuario est√° en la ACL.
  2. Si la operaci√≥n est√° permitida.

#### **ACL por defecto**

* Cuando se crea un fichero o directorio:
  * El usuario creador recibe **todas las operaciones** permitidas por defecto.
* La ACL puede modificarse posteriormente.

#### **Superusuario**

* Usuario privilegiado con acceso total.
* El SO **no verifica la ACL** cuando accede.
* Es el encargado de:
  * Realizar **copias de seguridad**.
  * **Reorganizar** el sistema de ficheros.

---
